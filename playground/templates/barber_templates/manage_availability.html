{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Manage Availability</title>
    <link rel="stylesheet" href="{% static 'styles.css' %}">
</head>
<body>

<div class="tab">
    <a href="{% url 'barber_dashboard' %}" class="tablinks">Dashboard</a>
    <a href="{% url 'barber_appointments' %}" class="tablinks">My Appointments</a>
    <a href="{% url 'barber_reports' %}" class="tablinks">Reports</a>
    <a href="{% url 'barber_profile' %}" class="tablinks">Profile</a>
    <a href="{% url 'barber_settings' %}" class="tablinks">Settings</a>
    <a href="{% url 'manage_availability' %}" class="tablinks">Manage Availability</a>
</div>

<h3>Manage Availability</h3>
<form method="post">
    {% csrf_token %}
    {{ availability_form.as_p }}
    <button type="submit">Save Availability</button>
</form>

{% if availability_form.errors %}
    <div class="form-errors">
        <p>There were some errors with your form:</p>
        <ul>
            {% for field in availability_form %}
                {% for error in field.errors %}
                    <li>{{ field.label }}: {{ error }}</li>
                {% endfor %}
            {% endfor %}
            {% for error in availability_form.non_field_errors %}
                <li>{{ error }}</li>
            {% endfor %}
        </ul>
    </div>
{% endif %}

<h3>Current Availability</h3>
<ul>
    {% for availability in availabilities %}
        <li>{{ availability.start_time }} - {{ availability.end_time }} (Available: {{ availability.is_available }})</li>
    {% empty %}
        <li>No availability set.</li>
    {% endfor %}
</ul>

</body>
</html>
