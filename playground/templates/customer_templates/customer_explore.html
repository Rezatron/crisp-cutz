{% load static %} <!-- Load static tag library -->

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Explore</title>
    <link rel="stylesheet" href="{% static 'styles.css' %}"> <!-- Link to your CSS file -->
    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyD3Bk4vpGUe1hsJf6qbzfUHUtmrB6nIL5E"></script>
</head>
<body>

<div class="tab">
    <a href="{% url 'customer_dashboard' %}" class="tablinks">Dashboard</a>
    <a href="{% url 'customer_explore' %}" class="tablinks">Explore</a>
    <a href="{% url 'customer_appointments' %}" class="tablinks">My Appointments</a>
    <a href="{% url 'customer_profile' %}" class="tablinks">Profile</a>
</div>

<!-- Content for Explore tab goes here -->
<h3>Explore Content</h3>

<div id="map" style="height: 400px; width: 100%;"></div>

<span>Hello, {{request.user}}</span>
<span><a href="{% url 'logout_customer' %}">Logout</a></span>

<script>
    function initMap() {
        var map = new google.maps.Map(document.getElementById('map'), {
            zoom: 10,
            center: {lat: -34.397, lng: 150.644}  // Set this to the coordinates of the area you want the map to focus on
        });

        // Add a marker for each barber location
        {% for barber in barbers %}
            {% if barber.latitude and barber.longitude %}
                new google.maps.Marker({
                    position: {lat: {{ barber.latitude }}, lng: {{ barber.longitude }}},
                    map: map
                });
            {% endif %}
        {% endfor %}
    }

    // Call the initMap function when the page loads
    window.onload = initMap;
</script>

<script src="{% static 'scripts.js' %}"></script> <!-- Link to your JavaScript file -->
</body>
</html>